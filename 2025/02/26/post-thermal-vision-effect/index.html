<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Fraser Hutchison">


    <meta name="subtitle" content="Technical Artist">






<title>Thermal Vision Effect | Fraser Hutchison</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="/css/markdown_extras.css">
    
    <link rel="stylesheet" href="/css/background.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    
    <script src="/js/circle-shader.js"></script>
    
    <script src="/js/background.js"></script>
    









<link rel="stylesheet" href="/css/markdown_extras.css">
  <meta name="generator" content="Hexo 7.3.0"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
                
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
                
              <li class="menu-item">
                <a href="/archives/">Archive</a>
              </li> 
                   
          
                
              <li class="menu-item">
                <a href="/about">About</a>
              </li> 
                   
          
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <script>
        // Allow the user to click on an image to scale it up.
        // Darken the background and show the image in the center of the screen.
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            const overlay = document.querySelector('.overlay');
            let scale = 1;
            // let isDragging = false;
            // let startX, startY, initialX, initialY;

            images.forEach(image => {
                image.addEventListener('click', function(event) {
                    event.stopPropagation(); // Prevent the click event from propagating to the body

                    // Remove any existing duplicate image
                    const existingDuplicate = document.querySelector('.duplicate-image');
                    if (existingDuplicate) {
                        existingDuplicate.remove();
                    }

                    // Create a duplicate of the clicked image
                    const duplicate = image.cloneNode(true);
                    duplicate.classList.add('duplicate-image');
                    document.body.appendChild(duplicate);

                    // Add the 'clicked' class to the duplicate image
                    duplicate.classList.add('clicked');
                    // Show the overlay
                    overlay.style.display = 'block';

                    // Disable page scrolling
                    document.body.classList.add('no-scroll');

                    // Reset scale
                    scale = 1;

                    // Initialize drag variables
                    // initialX = duplicate.offsetLeft;
                    // initialY = duplicate.offsetTop;
                });
            });

            document.body.addEventListener('click', function() {
                // Remove the 'clicked' class from all images
                const duplicate = document.querySelector('.duplicate-image');
                if (duplicate) {
                    duplicate.remove();
                }
                // Hide the overlay
                overlay.style.display = 'none';

                // Enable page scrolling
                document.body.classList.remove('no-scroll');
            });

            overlay.addEventListener('click', function() {
                // Remove the 'clicked' class from all images
                const duplicate = document.querySelector('.duplicate-image');
                if (duplicate) {
                    duplicate.remove();
                }
                // Hide the overlay
                overlay.style.display = 'none';

                // Enable page scrolling
                document.body.classList.remove('no-scroll');
            });

            // document.addEventListener('wheel', function(event) {
            //     const duplicate = document.querySelector('.duplicate-image');
            //     if (duplicate) {
            //         event.preventDefault();
            //         const rect = duplicate.getBoundingClientRect();
            //         const offsetX = event.clientX - rect.left;
            //         const offsetY = event.clientY - rect.top;
            //         const radius = 50; // Define the radius around the cursor
            //         const originX = Math.min(Math.max((offsetX - radius) / rect.width * 100, 0), 100);
            //         const originY = Math.min(Math.max((offsetY - radius) / rect.height * 100, 0), 100);
            //
            //         duplicate.style.transformOrigin = `${originX}% ${originY}%`;
            //
            //         scale += event.deltaY * -0.01;
            //         scale = Math.min(Math.max(0.5, scale), 3); // Limit the scale between 0.5 and 3
            //         duplicate.style.transform = `translate(-50%, -50%) scale(${scale})`;
            //     }
            // });

            // document.addEventListener('mousedown', function(event) {
            //     const duplicate = document.querySelector('.duplicate-image');
            //     if (duplicate) {
            //         isDragging = true;
            //         startX = event.clientX;
            //         startY = event.clientY;
            //     }
            // });

            // document.addEventListener('mousemove', function(event) {
            //     if (isDragging) {
            //         const duplicate = document.querySelector('.duplicate-image');
            //         if (duplicate) {
            //             const dx = event.clientX - startX;
            //             const dy = event.clientY - startY;
            //             duplicate.style.left = `${initialX + dx}px`;
            //             duplicate.style.top = `${initialY + dy}px`;
            //         }
            //     }
            // });

            // document.addEventListener('mouseup', function() {
            //     isDragging = false;
            // });
        });
    </script>
    <div class="post-info">
        <div class="post-title">
            
            
                Thermal Vision Effect
            
            
        </div>
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/Shaders/">
                            Shaders
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/Unity/">
                            Unity
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/URP/">
                            URP
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/C/">
                            C#
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/RenderFeatures/">
                            RenderFeatures
                        </a>
                    </span>    
                           
            
        </div>
        <span class="post-date">
            Feb 26, 2025
        </span>
    </div>
</div>
    <div class="overlay"></div>
<div class="post-content">
    <p>I’ve been playing Metroid Prime Remaster recently and thought the thermal vision effect was a cool idea that I’d see about recreating something similar in Unity URP.</p>
<p>The main goal of this project wasn’t just to create the effect, but to see what sort of setup would work well if it was in actual production in triggering the effect.</p>
<br>
<div class="video-container"><iframe src="https://www.youtube.com/embed/Vv-WuyIFiIg?autoplay=1&mute=1&loop=1&playlist=Vv-WuyIFiIg" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<br>
<hr>
<h1>Scriptable Renderers</h1>
<p>I went about using two Universal Renderer Data assets loaded into the Pipeline Asset and switching them at runtime on a button press. The default asset is what would be used in normal gameplay and thermal vision making use of three render features.</p>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-renderpipeline.png" class="img-center" width="1500">
<br>
<h1>Thermal Vision Effect</h1>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-renderfeatures.png" class="img-center" width="1500">
<br>
<h2 id="Fullscreen-Render-Feature-1">Fullscreen Render Feature 1</h2>
<p>The first is a Fullscreen render feature, mapping a purple gradient to the colour buffer. This gradient was made using a custom script to generate a gradient texture from a scriptable object as HLSL/Unity doesn’t have a gradient input field.</p>
<p>A simple depth buffer based fogging is also used to make the scene less noisy.</p>
<p><em>See the next step as to why some objects aren’t visible here.</em></p>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-gradienteditor.jpg" class="img-center" width="500">
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-fullscreen1.jpg" class="img-center" width="1500">
<br>
<div class="video-container"><iframe src="https://www.youtube.com/embed/lglEWsNcfi8?autoplay=1&mute=1&loop=1&playlist=lglEWsNcfi8" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<br>
<hr>
<h2 id="Render-Objects-Render-Feature">Render Objects Render Feature</h2>
<p>The next is a Render Objects render feature that renders objects withing the “ThermalVision” layer with a <a target="_blank" rel="noopener" href="https://learn.foundry.com/modo/content/help/pages/shading_lighting/shader_items/matcap.html">matcap shader</a> to give the highlighted look. This shader also adds a small amount of vertex displacement for some extra movement.</p>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-layermask.jpg" class="img-center" width="500">
<br>
<div class="video-container"><iframe src="https://www.youtube.com/embed/xPozwCLof_E?autoplay=1&mute=1&loop=1&playlist=xPozwCLof_E" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-matcap.jpg" class="img-center" width="1000">
<br>
<hr>
<h2 id="Fullscreen-Render-Feature-2">Fullscreen Render Feature 2</h2>
<p>The last feature is another Fullscreen render feature. This adds: film grain, vignetting, glitch distortion, pixelation and scanlines.</p>
<p>There’s nothing complex going on here,  just several effects stacked on top of each other to achieve the overall effect.</p>
<br>
<div class="video-container"><iframe src="https://www.youtube.com/embed/LPYIFpIlk7Y?autoplay=1&mute=1&loop=1&playlist=LPYIFpIlk7Y" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-fullscreen2-full.png" class="img-center" width="1500">
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-fullscreen2-A.png" class="" width="1500">
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-fullscreen2-B.png" class="" width="1500">
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-fullscreen2-C.png" class="" width="1500">
<br>
<hr>
<h1>C# Scripts</h1>
<p>The next step was figuring out a way to trigger the effect. I went about creating a couple scripts for this so the approach would be modular and component based, so any effect could be hooked up without any hardcoding of “thermal vision” variables.</p>
<ul>
<li>SequencedEvents.cs</li>
<li>MaterialAnimator.cs</li>
<li>SwitchScriptableRendererData.cs</li>
<li>InputToggleEvent.cs</li>
</ul>
<br>
<img src="/2025/02/26/post-thermal-vision-effect/post-thermal-vision-effect-scripts.png" class="" width="1500">
<br>
<h2 id="SequencedEvents-cs">SequencedEvents.cs</h2>
<p>SequencedEvents.cs allows any number of Unity events on any object to fire in sequence, with optional delay between each event. This is done using a coroutine. Start the sequence by calling StartSequence().</p>
<h2 id="MaterialAnimator-cs">MaterialAnimator.cs</h2>
<p>MaterialAnimator.cs allows material properties to animate at runtime using animation curves. Input a material, shader property name and property types, along with your animation curve, and it will animate when the StartAnimation() function is called. Like the SequencedEvents.cs, you can load multiple properties in to be animated.</p>
<p>As you can see by the videos above, the ability to animate along curves can give some unique looks. For instance the colour fade is a linear curve while the pixelation is stepped to give a more digital look.</p>
<h2 id="RenderPipelineSwitch-cs">RenderPipelineSwitch.cs</h2>
<p>RenderPipelineSwitch.cs takes two renderer assets, the default and the one you want to switch to. When the EnableRenderer() or ResetRenderer() functions are called, it will set the renderer to either.</p>
<h2 id="InputToggleEvent-cs">InputToggleEvent.cs</h2>
<p>InputToggleEvent.cs takes two Unity Events as inputs, one for true and one false. When OnInputActionToggle() is called it flip-flops between invoking either the true event or false event. This component is designed to be called from the Unity Player Input component which fires events based on the Unity Input System as OnInputActionToggle() takes a InputAction.CallbackContext as a function argument.</p>
<p>Using these scripts, I’m able to set up the feature in a very modular and accessible way, allowing for additional things to be triggered or changed easily by artists or designers without the need for an engineer or technical artist. It can also be used to trigger any type or number of events so it isn’t limited to just “thermal vision”.</p>
<p><strong><a target="_blank" rel="noopener" href="https://github.com/FraserHutchison/unity-urp-thermal-vision/tree/master">Check the git repo for the source code!</a></strong></p>
<p>SciFi Environment Asset Pack by <a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/3d/environments/sci-fi/sci-fi-construction-kit-modular-159280#publisher">Sickhead Games</a> on the Unity Asset Store</p>
<p>I’d probably change some setup here if done again but overall I think it’s a solid way to trigger different types of effects. I think I’ll be using these scripts again in the future for other projects as they’re quite versatile along with some other scripts ive made for global event triggering so more environmental elements could also be triggered.</p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/2025/06/22/sdt-character-skins/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2025/02/18/note-cortana-shader/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

     
    
    

</div>
     
  

</article>
        </div>
      </div>
      
      <head>
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include https://www.goatcounter.com/ goatcounter open-source privacy conscious analytics -->
    <script data-goatcounter="https://fraserh.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    <title></title>
</head>
<div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            Fraser Hutchison &copy; 2025
                <br>
            <a href="mailto:fraserjameshutchison@gmail.com"> <i class="fas fa-envelope"></i> fraserjameshutchison@gmail.com </a>
            &nbsp | &nbsp
            <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/fraser-hutchison-011b0b178/"><i class="fab fa-linkedin icon-linkedin"></i> LinkedIn</a>
        </div>
    </div>
</div>

    </div>
    
    
  </body>
</html>
