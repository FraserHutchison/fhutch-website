<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Fraser Hutchison">


    <meta name="subtitle" content="Technical Artist">






<title>Sonic Dream Team | &#34;Shadow Update&#34; | Fraser Hutchison</title>



    <link rel="icon" href="/favicon.ico">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    
    <link rel="stylesheet" href="/css/markdown_extras.css">
    
    <link rel="stylesheet" href="/css/background.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/menu.js"></script>
    
    <script src="/js/circle-shader.js"></script>
    
    <script src="/js/background.js"></script>
    









<link rel="stylesheet" href="/css/markdown_extras.css">
  <meta name="generator" content="Hexo 7.3.0"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
                
              <li class="menu-item">
                <a href="/">Blog</a>
              </li> 
                   
          
                
              <li class="menu-item">
                <a href="/archives/">Archive</a>
              </li> 
                   
          
                
              <li class="menu-item">
                <a href="/about">About</a>
              </li> 
                   
          
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <script>
        // Allow the user to click on an image to scale it up.
        // Darken the background and show the image in the center of the screen.
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            const overlay = document.querySelector('.overlay');
            let scale = 1;
            // let isDragging = false;
            // let startX, startY, initialX, initialY;

            images.forEach(image => {
                image.addEventListener('click', function(event) {
                    event.stopPropagation(); // Prevent the click event from propagating to the body

                    // Remove any existing duplicate image
                    const existingDuplicate = document.querySelector('.duplicate-image');
                    if (existingDuplicate) {
                        existingDuplicate.remove();
                    }

                    // Create a duplicate of the clicked image
                    const duplicate = image.cloneNode(true);
                    duplicate.classList.add('duplicate-image');
                    document.body.appendChild(duplicate);

                    // Add the 'clicked' class to the duplicate image
                    duplicate.classList.add('clicked');
                    // Show the overlay
                    overlay.style.display = 'block';

                    // Disable page scrolling
                    document.body.classList.add('no-scroll');

                    // Reset scale
                    scale = 1;

                    // Initialize drag variables
                    // initialX = duplicate.offsetLeft;
                    // initialY = duplicate.offsetTop;
                });
            });

            document.body.addEventListener('click', function() {
                // Remove the 'clicked' class from all images
                const duplicate = document.querySelector('.duplicate-image');
                if (duplicate) {
                    duplicate.remove();
                }
                // Hide the overlay
                overlay.style.display = 'none';

                // Enable page scrolling
                document.body.classList.remove('no-scroll');
            });

            overlay.addEventListener('click', function() {
                // Remove the 'clicked' class from all images
                const duplicate = document.querySelector('.duplicate-image');
                if (duplicate) {
                    duplicate.remove();
                }
                // Hide the overlay
                overlay.style.display = 'none';

                // Enable page scrolling
                document.body.classList.remove('no-scroll');
            });

            // document.addEventListener('wheel', function(event) {
            //     const duplicate = document.querySelector('.duplicate-image');
            //     if (duplicate) {
            //         event.preventDefault();
            //         const rect = duplicate.getBoundingClientRect();
            //         const offsetX = event.clientX - rect.left;
            //         const offsetY = event.clientY - rect.top;
            //         const radius = 50; // Define the radius around the cursor
            //         const originX = Math.min(Math.max((offsetX - radius) / rect.width * 100, 0), 100);
            //         const originY = Math.min(Math.max((offsetY - radius) / rect.height * 100, 0), 100);
            //
            //         duplicate.style.transformOrigin = `${originX}% ${originY}%`;
            //
            //         scale += event.deltaY * -0.01;
            //         scale = Math.min(Math.max(0.5, scale), 3); // Limit the scale between 0.5 and 3
            //         duplicate.style.transform = `translate(-50%, -50%) scale(${scale})`;
            //     }
            // });

            // document.addEventListener('mousedown', function(event) {
            //     const duplicate = document.querySelector('.duplicate-image');
            //     if (duplicate) {
            //         isDragging = true;
            //         startX = event.clientX;
            //         startY = event.clientY;
            //     }
            // });

            // document.addEventListener('mousemove', function(event) {
            //     if (isDragging) {
            //         const duplicate = document.querySelector('.duplicate-image');
            //         if (duplicate) {
            //             const dx = event.clientX - startX;
            //             const dy = event.clientY - startY;
            //             duplicate.style.left = `${initialX + dx}px`;
            //             duplicate.style.top = `${initialY + dy}px`;
            //         }
            //     }
            // });

            // document.addEventListener('mouseup', function() {
            //     isDragging = false;
            // });
        });
    </script>
    <div class="post-info">
        <div class="post-title">
            
            
                Sonic Dream Team | &#34;Shadow Update&#34;
            
            
        </div>
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/Shaders/">
                            Shaders
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/Unity/">
                            Unity
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/URP/">
                            URP
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/SEGA/">
                            SEGA
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/SonicDreamTeam/">
                            SonicDreamTeam
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/VFX/">
                            VFX
                        </a>
                    </span>    
                           
            
        </div>
        <span class="post-date">
            Feb 17, 2025
        </span>
    </div>
</div>
    <div class="overlay"></div>
<div class="post-content">
    <p>This update introduced Shadow as a playable character in Sonic Dream Team, complete with his signature Chaos abilities. I worked on VFX and shaders for his powers, and also got to contribute to an area I hadn’t been involved in much before—cutscenes!</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/7jkKrwbeW9I" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<p><br><hr></p>
<h1>VFX</h1>
<p>We used the same VFX setup as the rest of the game, utilising Unity’s particle system (rather than Unity VFX Graph, since some of our <a target="_blank" rel="noopener" href="https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@17.3/manual/System-Requirements.html">target devices don’t support compute shading</a>).</p>
<br>
<div style="text-align: center;">
  <video width="50%" controls autoplay muted loop>
    <source src="sega-sdt-shadow-pfx.mp4" type="video/mp4">
  </video>
</div>
<p>The fullscreen effects could reuse the same technology from the game, requiring only minor changes to expose more properties. The core effect is driven by the flow map, <a href="https://fraserh.dev/2024/02/09/sega-sdt-shaders/">which I’ve blogged about before</a>. Rather than controlling property animation directly through the shader, we use a material animator created by the engineering team. This approach allows me to build a versatile shader that achieves its best visual results when animated in sequence. Though that being said, it’s not the most usable friendly system, in the future I have plans to upgrade this to allow non programmers to create these effects more easily.</p>
<br>
<div style="text-align: center;">
  <video width="50%" controls autoplay muted loop>
    <source src="sega-sdt-shadow-fullscreen-vfx.mp4" type="video/mp4">
  </video>
</div>
<p><br><hr></p>
<h1>Cutscenes</h1>
<p>For our cutscenes, we used <a target="_blank" rel="noopener" href="https://docs.unity3d.com/Manual/com.unity.timeline.html">Unity’s Timeline</a> in combination with a dedicated cutscene prefab that contains all relevant objects for each scene. This prefab is instantiated into the level as needed, and the Timeline is then played. Working in Timeline is a lot of fun—it and offers real-time playback, which makes it easy to fine-tune every aspect of the cutscene. I was responsible for implementing the cutscenes in-game, including all visual effects and lighting. Audio was handled internally, while animation was provided by <a target="_blank" rel="noopener" href="https://supersplinestudios.com/">Superspline</a>. Given how short the cutscenes are, I think they turned out really well - and always a surprise to see first hand just how long even a few seconds of a cutscene can take to create!</p>
<div class="video-container"><iframe src="https://www.youtube.com/embed/VJ-drfyWapI" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
<p><br><hr></p>
<h1>Timeline Global Events</h1>
<p>One piece of minor engineering work I did was enabling Unity’s Timeline to send global events. By default, <a target="_blank" rel="noopener" href="https://unity.com/blog/engine-platform/how-to-use-timeline-signals">Timeline signals</a> are local, which posed a problem since our cutscene prefabs are instantiated at runtime — any references to objects outside the prefab would break. With help from our chief engineer, we developed a solution where a Timeline event could trigger a ScriptableObject-based global event. This allowed receivers anywhere in the level — even outside the prefab, to listen and respond accordingly. This system enabled setups like the Chaos Emerald landing sequence, where the Dream Orb and various environment elements were activated precisely on impact.</p>
<br>
<div style="text-align: center;">
  <video width="50%" controls autoplay muted loop>
    <source src="sega-sdt-shadow-timeline.mp4" type="video/mp4">
  </video>
</div>
<br>
<img src="/2025/02/17/sega-sdt-shadow/sega-sdt-shadow-timeline-signal.png" class="img-center" width="720">
<p><br><hr></p>
<h1>Corruption</h1>
<p>The “Corruption” feature was also introduced in this update. I contributed with performance optimisation and creating new shaders for the corrupted goo on the ground and the undulating tentacles. As with previous VFX work, I adapted our existing shader systems to support the new visuals. The most notable aspect was the tentacle undulation effect. This was achieved by baking a vertex colour gradient along the tentacle’s spline, which then drove a sine wave motion across the mesh. This vertex colour functionality was powered by <a target="_blank" rel="noopener" href="https://assetstore.unity.com/packages/tools/utilities/dreamteck-splines-61926?srsltid=AfmBOoqflSg7pJrK4ksIEZUk0GXcyiGcTBrKoNW4xXx8lLJoOtj4y3Ra">Dreamteck Splines</a>, the spline system used throughout this game.</p>
<br>
<div style="text-align: center;">
  <video width="50%" controls autoplay muted loop>
    <source src="sega-sdt-shadow-tentacles.mp4" type="video/mp4">
  </video>
</div>
<br>
<div class="video-container"><iframe src="https://www.youtube.com/embed/fsETxI5tMjo" frameborder="0" loading="lazy" allowfullscreen></iframe></div>
</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/2025/02/17/note-curved-world-shader/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2024/02/14/sega-sdt-optimisation/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    
      <div class="post-comment">

     

     
    
    

</div>
     
  

</article>
        </div>
      </div>
      
      <head>
    <!-- Include Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Include https://www.goatcounter.com/ goatcounter open-source privacy conscious analytics -->
    <script data-goatcounter="https://fraserh.goatcounter.com/count"
            async src="//gc.zgo.at/count.js"></script>
    <title></title>
</head>
<div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            Fraser Hutchison &copy; 2025
                <br>
            <a href="mailto:fraserjameshutchison@gmail.com"> <i class="fas fa-envelope"></i> fraserjameshutchison@gmail.com </a>
            &nbsp | &nbsp
            <a target="_blank" rel="noopener" href="https://www.linkedin.com/in/fraser-hutchison-011b0b178/"><i class="fab fa-linkedin icon-linkedin"></i> LinkedIn</a>
        </div>
    </div>
</div>

    </div>
    
    
  </body>
</html>
